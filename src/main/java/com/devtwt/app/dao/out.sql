PRAGMA foreign_keys = ON;
-- MySQL Script generated by MySQL Workbench
-- Tue Apr  7 07:36:51 2015
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering





-- -----------------------------------------------------
-- Schema MOIKII
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema MOIKII
-- -----------------------------------------------------



-- -----------------------------------------------------
-- Table `DEV_CATEGORY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `DEV_CATEGORY` ;

CREATE TABLE `DEV_CATEGORY` (
  `COMMUNITY_ID` VARCHAR(45) NOT NULL,
  `DEV_CATEGORY` VARCHAR(45) NULL,
  `PHASE` VARCHAR(45) NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  PRIMARY KEY (`COMMUNITY_ID`))
;


-- -----------------------------------------------------
-- Table `COMMUNITY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `COMMUNITY` ;

CREATE TABLE `COMMUNITY` (
  `COMMUNITY_ID` VARCHAR(45) NOT NULL,
  `COMMUNITY_NAME` VARCHAR(45) NULL,
  `DEV_CATEGORY_COMMUNITY_ID` VARCHAR(45) NOT NULL,
  `MEMBER_ID` VARCHAR(45) NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  PRIMARY KEY (`COMMUNITY_ID`),
  
  CONSTRAINT `fk_COMMUNITY_DEV_CATEGORY1`
    FOREIGN KEY (`DEV_CATEGORY_COMMUNITY_ID`)
    REFERENCES `DEV_CATEGORY` (`COMMUNITY_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
;


-- -----------------------------------------------------
-- Table `STREAM`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `STREAM` ;

CREATE TABLE `STREAM` (
  `STEREAM_NUM` VARCHAR(45) NOT NULL,
  `COMMUNITY_COMMUNITY_ID` VARCHAR(45) NOT NULL,
  `MOMO_NUM` VARCHAR(45) NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  PRIMARY KEY (`STEREAM_NUM`),
  
  CONSTRAINT `fk_STREAM_COMMUNITY1`
    FOREIGN KEY (`COMMUNITY_COMMUNITY_ID`)
    REFERENCES `COMMUNITY` (`COMMUNITY_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
;


-- -----------------------------------------------------
-- Table `ROLE_MASTER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `ROLE_MASTER` ;

CREATE TABLE `ROLE_MASTER` (
  `ROLE_ID` VARCHAR(45) NOT NULL,
  `ROLE_NAME` VARCHAR(45) NULL,
  PRIMARY KEY (`ROLE_ID`))
;


-- -----------------------------------------------------
-- Table `USER_MASTER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `USER_MASTER` ;

CREATE TABLE `USER_MASTER` (
  `MEMBER_ID` VARCHAR(45) NOT NULL,
  `MEMBER_NAME` VARCHAR(45) NULL,
  `PASSWORD` VARCHAR(45) NULL DEFAULT 'momo123',
  `ROLE_MASTER_ROLE_ID` VARCHAR(45) NOT NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  `DELETE_FLAG` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`MEMBER_ID`),
  
  CONSTRAINT `fk_USER_MASTER_ROLE_MASTER1`
    FOREIGN KEY (`ROLE_MASTER_ROLE_ID`)
    REFERENCES `ROLE_MASTER` (`ROLE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
;


-- -----------------------------------------------------
-- Table `MOMO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `MOMO` ;

CREATE TABLE `MOMO` (
  `MOMO_NUM` VARCHAR(45) NOT NULL,
  `STREAM_STEREAM_NUM` VARCHAR(45) NOT NULL,
  `PHASE` VARCHAR(45) NULL,
  `MOMO_CONTENTS` VARCHAR(45) NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NOT NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  `USER_MASTER_MEMBER_ID` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`MOMO_NUM`, `STREAM_STEREAM_NUM`),
  
  
  CONSTRAINT `fk_MOMO_STREAM1`
    FOREIGN KEY (`STREAM_STEREAM_NUM`)
    REFERENCES `STREAM` (`STEREAM_NUM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MOMO_USER_MASTER1`
    FOREIGN KEY (`USER_MASTER_MEMBER_ID`)
    REFERENCES `USER_MASTER` (`MEMBER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);




-- -----------------------------------------------------
-- Table `LEADER_VIEW`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `LEADER_VIEW` ;

CREATE TABLE `LEADER_VIEW` (
  `MEMBER_ID` VARCHAR(45) NULL,
  `COMMUNITY_ID` VARCHAR(45) NOT NULL,
  `CREATE_ID` VARCHAR(45) NULL,
  `CREATE_DATE` VARCHAR(45) NULL,
  `UPDATE_ID` VARCHAR(45) NULL,
  `UPDATE_DATE` VARCHAR(45) NULL,
  `USER_MASTER_MEMBER_ID` INT NOT NULL,
  
  CONSTRAINT `fk_LEADER_USER_MASTER1`
    FOREIGN KEY (`USER_MASTER_MEMBER_ID`)
    REFERENCES `USER_MASTER` (`MEMBER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
;





